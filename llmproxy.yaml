model_groups:
  ### o4-mini
  # Azure (default, distributed across 2 endpoints with weight 1)
  - model_group: o4-mini
    models:
      - model: o4-mini
        weight: 1
        params:
          api_key: os.environ/AZURE_OPENAI_API_KEY_O4_MINI_1
          base_url: os.environ/AZURE_OPENAI_ENDPOINT_O4_MINI_1
          default_query:
            api-version: os.environ/OPENAI_API_VERSION

      - model: o4-mini
        weight: 1
        params:
          api_key: os.environ/AZURE_OPENAI_API_KEY_O4_MINI_2
          base_url: os.environ/AZURE_OPENAI_ENDPOINT_O4_MINI_2
          default_query:
            api-version: os.environ/OPENAI_API_VERSION

      # OpenAI (fallback with weight 0, only gets traffic if all other endpoints are cooled down)
      - model: o4-mini
        weight: 0
        params:
          api_key: os.environ/OPENAI_API_KEY

  ### gpt-4.1
  # Azure (default, distributed across 2 endpoints with weight 1)
  - model_group: gpt-4.1
    models:
      - model: gpt-4.1
        weight: 1
        params:
          api_key: os.environ/AZURE_OPENAI_API_KEY_GPT_4_POINT_1_1
          base_url: os.environ/AZURE_OPENAI_ENDPOINT_GPT_4_POINT_1_1
          default_query:
            api-version: os.environ/OPENAI_API_VERSION

      - model: gpt-4.1
        weight: 1
        params:
          api_key: os.environ/AZURE_OPENAI_API_KEY_GPT_4_POINT_1_2
          base_url: os.environ/AZURE_OPENAI_ENDPOINT_GPT_4_POINT_1_2
          default_query:
            api-version: os.environ/OPENAI_API_VERSION

      # OpenAI (fallback)
      - model: gpt-4.1
        weight: 0
        params:
          api_key: os.environ/OPENAI_API_KEY

general_settings:
  bind_address: localhost
  bind_port: 4243
  num_retries: 3 # number of retries for each request
  allowed_fails: 1 # number of allowed fails for each endpoint
  cooldown_time: 60 # cooldown time for each endpoint

  # Redis will be used to store the cache and the state of the endpoints
  redis_host: os.environ/REDIS_HOST
  redis_port: os.environ/REDIS_PORT
  redis_password: os.environ/REDIS_PASSWORD

  cache: True # enable cache
  cache_params:        # set cache params for redis
    type: redis
    ttl: 604800 # 7 days
    namespace: "litellm.cache"
    host: os.environ/REDIS_HOST
    port: os.environ/REDIS_PORT
    password: os.environ/REDIS_PASSWORD 